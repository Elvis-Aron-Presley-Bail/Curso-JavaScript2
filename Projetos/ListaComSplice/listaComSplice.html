<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lista de tarefas</title>
</head>

<body>
    
    <h1>Lista de Tarefas</h1>
    <ul id="tarefas"></ul>

    <script>

        let listaTarefas = ['acordar', 'comer', 'estudar', 'dormir']

        function atualizarLista() {

            let tarefas = document.querySelector('#tarefas')
            tarefas.innerHTML = ''

            listaTarefas.forEach((tarefa, indice) => {

                let novaTarefa = document.createElement('li')
                novaTarefa.textContent = tarefa

                let btnRemover = document.createElement('button')
                btnRemover.textContent = 'Remover'
                btnRemover.addEventListener('click', () => {
                    listaTarefas.splice(indice, 1)
                    atualizarLista()
                })

                let btnEditar = document.createElement('button')
                btnEditar.textContent = 'Editar'
                btnEditar.addEventListener('click', () => {
                    let novaTarefa = prompt('Digite a tarefa')
                    if (novaTarefaTexto !== null && novaTarefaTexto.trim() !== '') {
                        listaTarefas.splice(indice, 1, novaTarefaTexto)
                        atualizarLista()
                    }
                })

                let moverParaTopo = document.createElement('button')
                moverParaTopo.textContent = 'Mover para o topo'
                moverParaTopo.addEventListener('click', () => {
                    listaTarefas.splice(indice, 1)
                    listaTarefas.splice(0, 0, tarefa)
                    atualizarLista()
                })

                tarefas.appendChild(novaTarefa)
                novaTarefa.append(btnRemover)
                novaTarefa.append(btnEditar)
                novaTarefa.append(moverParaTopo)
            });
            
        }

        atualizarLista()

    </script>

</body>

</html>